{"version":3,"file":"src_app_shop_shop_module_ts.js","mappings":"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","sources":["./src/app/shared/models/shopParams.ts","./src/app/shop/product-details/product-details.component.ts","./src/app/shop/product-details/product-details.component.html","./src/app/shop/product-item/product-item.component.html","./src/app/shop/product-item/product-item.component.ts","./src/app/shop/shop-routing.module.ts","./src/app/shop/shop.component.ts","./src/app/shop/shop.component.html","./src/app/shop/shop.module.ts","./src/app/shop/shop.service.ts"],"sourcesContent":["export class ShopParams {\n    brandId = 0;\n    typeId = 0;\n    sort = 'name';\n    pageNumber = 1;\n    pageSize = 6;\n    search = '';\n}","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute } from '@angular/router';\nimport { take } from 'rxjs';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { Product } from 'src/app/shared/models/product';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { ShopService } from '../shop.service';\n\n@Component({\n  selector: 'app-product-details',\n  templateUrl: './product-details.component.html',\n  styleUrls: ['./product-details.component.scss']\n})\nexport class ProductDetailsComponent implements OnInit {\n  product?: Product;\n  quantity = 1;\n  quantityInBasket = 0;\n\n  constructor(private shopService: ShopService, private activatedRoute: ActivatedRoute, \n    private bcService: BreadcrumbService, private basketService: BasketService) {\n      this.bcService.set('@productDetails', ' ')\n    }\n\n  ngOnInit(): void {\n    this.loadProduct();\n  }\n\n  loadProduct() {\n    const id = this.activatedRoute.snapshot.paramMap.get('id');\n    if (id) this.shopService.getProduct(+id).subscribe({\n      next: product => {\n        this.product = product;\n        this.bcService.set('@productDetails', product.name);\n        this.basketService.basketSource$.pipe(take(1)).subscribe({\n          next: basket => {\n            const item = basket?.items.find(x => x.id === +id);\n            if (item) {\n              this.quantity = item.quantity;\n              this.quantityInBasket = item.quantity;\n            }\n          }\n        })\n      },\n      error: error => console.log(error)\n    })\n  }\n\n  incrementQuantity() {\n    this.quantity++;\n  }\n\n  decrementQuantity() {\n    this.quantity--;\n  }\n\n  updateBasket() {\n    if (this.product) {\n      if (this.quantity > this.quantityInBasket) {\n        const itemsToAdd = this.quantity - this.quantityInBasket;\n        this.quantityInBasket += itemsToAdd;\n        this.basketService.addItemToBasket(this.product, itemsToAdd);\n      } else {\n        const itemsToRemove = this.quantityInBasket - this.quantity;\n        this.quantityInBasket -= itemsToRemove;\n        this.basketService.removeItemFromBasket(this.product.id, itemsToRemove);\n      }\n    }\n  }\n\n  get buttonText() {\n    return this.quantityInBasket === 0 ? 'Add to basket' : 'Update basket';\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"row\" *ngIf=\"product\">\n        <div class=\"col-6\">\n            <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"w-100\">\n        </div>\n        <div class=\"col-6 mt-5\">\n            <h2>{{product.name}}</h2>\n            <p style=\"font-size: 2em;\">{{product.price | currency}}</p>\n\n            <h5 class=\"text-primary mb-3\" *ngIf=\"quantityInBasket > 0\">\n                You have {{quantityInBasket}} of this item in your basket\n            </h5>\n\n            <div class=\"d-flex justify-content-start align-items-center\">\n                <i \n                    (click)=\"decrementQuantity()\"\n                    class=\"fa fa-minus-circle text-warning me-2\" \n                    style=\"cursor: pointer; font-size: 2em;\"></i>\n                <span class=\"font-weight-bold\" style=\"font-size: 1.5em;\">\n                    {{quantity}}\n                </span>\n                <i \n                    (click)=\"incrementQuantity()\"\n                    class=\"fa fa-plus-circle text-warning ms-2\" \n                    style=\"cursor: pointer; font-size: 2em;\"></i>\n                <button \n                    class=\"btn btn-outline-primary ms-4\"\n                    (click)=\"updateBasket()\"\n                    [disabled]=\"quantity === quantityInBasket\"\n                >{{buttonText}}</button>\n            </div>\n            <div class=\"row mt-4\">\n                <h4>Description</h4>\n                <p>{{product.description}}</p>\n            </div>\n        </div>\n    </div>\n    \n</div>\n\n","<div class=\"card h-100 shadow-sm\" *ngIf=\"product\">\n\n    <div class=\"image position-relative\" style=\"cursor: pointer;\">\n        <img src=\"{{product.pictureUrl}}\" alt=\"{{product.name}}\" class=\"img-fluid bg-info\">\n        <div class=\"d-flex align-items-center justify-content-center hover-overlay\">\n            <button (click)=\"addItemToBasket()\" class=\"btn btn-primary fa fa-shopping-cart me-2\"></button>\n            <button routerLink=\"/shop/{{product.id}}\" class=\"btn btn-primary\">View</button>\n        </div>\n    </div>\n\n    \n    <div class=\"card-body d-flex flex-column\">\n        <a href=\"\" class=\"text-decoration-none\">\n            <h6 class=\"text-uppercase\">\n                {{product.name}}\n            </h6>\n        </a>\n        <span class=\"mb-2\">{{product.price | currency}}</span>\n    </div>\n</div>\n","import { Component, Input } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { Product } from 'src/app/shared/models/product';\n\n@Component({\n  selector: 'app-product-item',\n  templateUrl: './product-item.component.html',\n  styleUrls: ['./product-item.component.scss']\n})\nexport class ProductItemComponent {\n  @Input() product?: Product;\n\n  constructor(private basketService: BasketService) {}\n\n  addItemToBasket() {\n    this.product && this.basketService.addItemToBasket(this.product);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { RouterModule, Routes } from '@angular/router';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\nimport { ShopComponent } from './shop.component';\n\nconst routes: Routes = [\n  {path: '', component: ShopComponent},\n  {path: ':id', component: ProductDetailsComponent, data: {breadcrumb: {alias: 'productDetails'}}},\n]\n\n@NgModule({\n  declarations: [],\n  imports: [\n    RouterModule.forChild(routes)\n  ],\n  exports: [\n    RouterModule\n  ]\n})\nexport class ShopRoutingModule { }\n","import { Component, ElementRef, OnInit, ViewChild } from '@angular/core';\nimport { Brand } from '../shared/models/brand';\nimport { Product } from '../shared/models/product';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { Type } from '../shared/models/type';\nimport { ShopService } from './shop.service';\n\n@Component({\n  selector: 'app-shop',\n  templateUrl: './shop.component.html',\n  styleUrls: ['./shop.component.scss']\n})\nexport class ShopComponent implements OnInit {\n  @ViewChild('search') searchTerm?: ElementRef;\n  products: Product[] = [];\n  brands: Brand[] = [];\n  types: Type[] = [];\n  shopParams: ShopParams;\n  sortOptions = [\n    {name: 'Alphabetical', value: 'name'},\n    {name: 'Price: Low to high', value: 'priceAsc'},\n    {name: 'Price: High to low', value: 'priceDesc'},\n  ];\n  totalCount = 0;\n\n  constructor(private shopService: ShopService) {\n    this.shopParams = shopService.getShopParams();\n  }\n\n  ngOnInit(): void {\n    this.getProducts();\n    this.getBrands();\n    this.getTypes();\n  }\n\n  getProducts() {\n    this.shopService.getProducts().subscribe({\n      next: response => {\n        this.products = response.data;\n        this.totalCount = response.count;\n      },\n      error: error => console.log(error)\n    })\n  }\n\n  getBrands() {\n    this.shopService.getBrands().subscribe({\n      next: response => this.brands = [{id: 0, name: 'All'}, ...response],\n      error: error => console.log(error)\n    })\n  }\n\n  getTypes() {\n    this.shopService.getTypes().subscribe({\n      next: response => this.types = [{id: 0, name: 'All'}, ...response],\n      error: error => console.log(error)\n    })\n  }\n\n  onBrandSelected(brandId: number) {\n    const params = this.shopService.getShopParams();\n    params.brandId = brandId;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.shopParams = params;\n    this.getProducts();\n  }\n\n  onTypeSelected(typeId: number) {\n    const params = this.shopService.getShopParams();\n    params.typeId = typeId;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.shopParams = params;\n    this.getProducts();\n  }\n\n  onSortSelected(event: any) {\n    const params = this.shopService.getShopParams();\n    params.sort = event.target.value;\n    this.shopService.setShopParams(params);\n    this.shopParams = params;\n    this.getProducts();\n  }\n\n  onPageChanged(event: any) {\n    const params = this.shopService.getShopParams();\n    if (params.pageNumber !== event) {\n      params.pageNumber = event;\n      this.shopService.setShopParams(params);\n      this.shopParams = params;\n      this.getProducts();\n    }\n  }\n\n  onSearch() {\n    const params = this.shopService.getShopParams();\n    params.search = this.searchTerm?.nativeElement.value;\n    params.pageNumber = 1;\n    this.shopService.setShopParams(params);\n    this.shopParams = params;\n    this.getProducts();\n  }\n\n  onReset() {\n    if (this.searchTerm) this.searchTerm.nativeElement.value = '';\n    this.shopParams = new ShopParams();\n    this.shopService.setShopParams(this.shopParams);\n    this.getProducts();\n  }\n\n}\n","<div class=\"container\">\n    <div class=\"row\" *ngIf=\"types.length > 0 && brands.length > 0\">\n        <section class=\"col-3\">\n            <h5 class=\"text-warning ms-3\">Sort</h5>\n            <select class=\"form-select mb-4\" (change)=\"onSortSelected($event)\">\n                <option *ngFor=\"let sort of sortOptions\" \n                    [selected]=\"shopParams.sort === sort.value\"\n                    [value]=\"sort.value\">\n                    {{sort.name}}\n                </option>\n            </select>\n\n\n            <h5 class=\"text-warning ms-3\">Brands</h5>\n            <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\"\n                    *ngFor=\"let brand of brands\"\n                    [class.active]=\"brand.id === shopParams.brandId\"\n                    [value]=\"brand.id\"\n                    (click)=\"onBrandSelected(brand.id)\">{{brand.name}}</li>\n            </ul>\n            <h5 class=\"text-warning ms-3\">Types</h5>\n            <ul class=\"list-group my-3\">\n                <li class=\"list-group-item\"\n                    *ngFor=\"let type of types\"\n                    [class.active]=\"type.id === shopParams.typeId\"\n                    [value]=\"type.id\"\n                    (click)=\"onTypeSelected(type.id)\">{{type.name}}</li>\n            </ul>\n\n        </section>\n        <section class=\"col-9\">\n            <div class=\"d-flex justify-content-between align-items-center pb-2\">\n                <app-paging-header\n                    [totalCount]=\"totalCount\"\n                    [pageNumber]=\"shopParams.pageNumber\"\n                    [pageSize]=\"shopParams.pageSize\"\n                ></app-paging-header>\n\n                <div class=\"d-flex mt-2\">\n                    <input (keyup.enter)=\"onSearch()\" type=\"text\" placeholder=\"Search\" class=\"form-control me-2\" #search>\n                    <button (click)=\"onSearch()\" class=\"btn btn-outline-primary mx-2\">Search</button>\n                    <button (click)=\"onReset()\" class=\"btn btn-outline-success\">Reset</button>\n                </div>\n            </div>\n\n            <div class=\"row row-cols-3 g-3 mb-4\">\n                <div class=\"col\" *ngFor=\"let product of products\">\n                    <app-product-item [product]=\"product\"></app-product-item>\n                </div>\n            </div>\n\n            <div class=\"d-flex justify-content-center\" *ngIf=\"totalCount > 0\">\n                <app-pager\n                    [totalCount]=\"totalCount\"\n                    [pageSize]=\"shopParams.pageSize\"\n                    [pageNumber]=\"shopParams.pageNumber\"\n                    (pageChanged)=\"onPageChanged($event)\"\n                ></app-pager>\n            </div>\n        </section>\n    </div>\n</div>","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { ShopComponent } from './shop.component';\nimport { ProductItemComponent } from './product-item/product-item.component';\nimport { SharedModule } from '../shared/shared.module';\nimport { ProductDetailsComponent } from './product-details/product-details.component';\nimport { RouterModule } from '@angular/router';\nimport { ShopRoutingModule } from './shop-routing.module';\n\n@NgModule({\n  declarations: [\n    ShopComponent,\n    ProductItemComponent,\n    ProductDetailsComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule,\n    ShopRoutingModule\n  ]\n})\nexport class ShopModule { }\n","import { HttpClient, HttpParams } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { map, Observable, of } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Brand } from '../shared/models/brand';\nimport { Pagination } from '../shared/models/pagination';\nimport { Product } from '../shared/models/product';\nimport { ShopParams } from '../shared/models/shopParams';\nimport { Type } from '../shared/models/type';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class ShopService {\n  baseUrl = environment.apiUrl;\n  products: Product[] = [];\n  brands: Brand[] = [];\n  types: Type[] = [];\n  pagination?: Pagination<Product[]>;\n  shopParams = new ShopParams();\n  productCache = new Map<string, Pagination<Product[]>>();\n\n  constructor(private http: HttpClient) { }\n\n  getProducts(useCache = true): Observable<Pagination<Product[]>> {\n\n    if (!useCache) this.productCache = new Map();\n\n    if (this.productCache.size > 0 && useCache) {\n      if (this.productCache.has(Object.values(this.shopParams).join('-'))) {\n        this.pagination = this.productCache.get(Object.values(this.shopParams).join('-'));\n        if(this.pagination) return of(this.pagination);\n      }\n    }\n\n    let params = new HttpParams();\n\n    if (this.shopParams.brandId > 0) params = params.append('brandId', this.shopParams.brandId);\n    if (this.shopParams.typeId) params = params.append('typeId', this.shopParams.typeId);\n    params = params.append('sort', this.shopParams.sort);\n    params = params.append('pageIndex', this.shopParams.pageNumber);\n    params = params.append('pageSize', this.shopParams.pageSize);\n    if (this.shopParams.search) params = params.append('search', this.shopParams.search);\n\n    return this.http.get<Pagination<Product[]>>(this.baseUrl + 'products', {params}).pipe(\n      map(response => {\n        this.productCache.set(Object.values(this.shopParams).join('-'), response)\n        this.pagination = response;\n        return response;\n      })\n    )\n  }\n\n  setShopParams(params: ShopParams) {\n    this.shopParams = params;\n  }\n\n  getShopParams() {\n    return this.shopParams;\n  }\n\n  getProduct(id: number) {\n    const product = [...this.productCache.values()]\n      .reduce((acc, paginatedResult) => {\n        return {...acc, ...paginatedResult.data.find(x => x.id === id)}\n      }, {} as Product)\n\n    if (Object.keys(product).length !== 0) return of(product);\n\n    return this.http.get<Product>(this.baseUrl + 'products/' + id);\n  }\n\n  getBrands() {\n    if (this.brands.length > 0) return of(this.brands);\n\n    return this.http.get<Brand[]>(this.baseUrl + 'products/brands').pipe(\n      map(brands => this.brands = brands)\n    );\n  }\n\n  getTypes() {\n    if (this.types.length > 0) return of(this.types);\n\n    return this.http.get<Type[]>(this.baseUrl + 'products/types').pipe(\n      map(types => this.types = types)\n    );\n  }\n}\n"],"names":["ShopParams","constructor","take","i0","ProductDetailsComponent","shopService","activatedRoute","bcService","basketService","set","ngOnInit","loadProduct","id","snapshot","paramMap","get","getProduct","subscribe","next","product","name","basketSource$","pipe","basket","item","items","find","x","quantity","quantityInBasket","error","console","log","incrementQuantity","decrementQuantity","updateBasket","itemsToAdd","addItemToBasket","itemsToRemove","removeItemFromBasket","buttonText","selectors","decls","vars","consts","template","ProductItemComponent","inputs","RouterModule","ShopComponent","routes","path","component","data","breadcrumb","alias","ShopRoutingModule","forChild","imports","exports","value","shopParams","getShopParams","getProducts","getBrands","getTypes","response","products","totalCount","count","brands","types","onBrandSelected","brandId","params","pageNumber","setShopParams","onTypeSelected","typeId","onSortSelected","event","sort","target","onPageChanged","onSearch","search","searchTerm","nativeElement","onReset","viewQuery","CommonModule","SharedModule","ShopModule","declarations","HttpParams","map","of","environment","ShopService","http","apiUrl","Map","useCache","productCache","size","has","Object","values","join","pagination","append","pageSize","baseUrl","reduce","acc","paginatedResult","keys","length","factory","providedIn"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}