{"version":3,"file":"main.js","mappings":"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","sources":["./src/app/account/account.service.ts","./src/app/app-routing.module.ts","./src/app/app.component.ts","./src/app/app.component.html","./src/app/app.module.ts","./src/app/basket/basket.service.ts","./src/app/core/core.module.ts","./src/app/core/guards/auth.guard.ts","./src/app/core/interceptors/error.interceptor.ts","./src/app/core/interceptors/jwt.interceptor.ts","./src/app/core/interceptors/loading.interceptor.ts","./src/app/core/nav-bar/nav-bar.component.html","./src/app/core/nav-bar/nav-bar.component.ts","./src/app/core/not-found/not-found.component.ts","./src/app/core/not-found/not-found.component.html","./src/app/core/section-header/section-header.component.html","./src/app/core/section-header/section-header.component.ts","./src/app/core/server-error/server-error.component.html","./src/app/core/server-error/server-error.component.ts","./src/app/core/services/busy.service.ts","./src/app/core/test-error/test-error.component.ts","./src/app/core/test-error/test-error.component.html","./src/app/home/home.component.ts","./src/app/home/home.component.html","./src/app/home/home.module.ts","./src/app/order-detailed/order-detailed.component.html","./src/app/order-detailed/order-detailed.component.ts","./src/app/orders/orders.service.ts","./src/app/shared/basket-summary/basket-summary.component.ts","./src/app/shared/basket-summary/basket-summary.component.html","./src/app/shared/components/stepper/stepper.component.ts","./src/app/shared/components/stepper/stepper.component.html","./src/app/shared/components/text-input/text-input.component.html","./src/app/shared/components/text-input/text-input.component.ts","./src/app/shared/models/basket.ts","./src/app/shared/order-totals/order-totals.component.html","./src/app/shared/order-totals/order-totals.component.ts","./src/app/shared/pager/pager.component.ts","./src/app/shared/pager/pager.component.html","./src/app/shared/paging-header/paging-header.component.html","./src/app/shared/paging-header/paging-header.component.ts","./src/app/shared/shared.module.ts","./src/environments/environment.ts","./src/main.ts"],"sourcesContent":["import { HttpClient, HttpHeaders } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { map, of, ReplaySubject } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Address, User } from '../shared/models/user';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AccountService {\n  baseUrl = environment.apiUrl;\n  private currentUserSource = new ReplaySubject<User | null>(1);\n  currentUser$ = this.currentUserSource.asObservable();\n\n  constructor(private http: HttpClient, private router: Router) { }\n\n  loadCurrentUser(token: string | null) {\n    if (token == null) {\n      this.currentUserSource.next(null);\n      return of(null);\n    }\n\n    let headers = new HttpHeaders();\n    headers = headers.set('Authorization', `Bearer ${token}`);\n\n    return this.http.get<User>(this.baseUrl + 'account', {headers}).pipe(\n      map(user => {\n        if (user) {\n          localStorage.setItem('token', user.token);\n          this.currentUserSource.next(user);\n          return user;\n        } else {\n          return null;\n        }\n      })\n    )\n  }\n\n  login(values: any) {\n    return this.http.post<User>(this.baseUrl + 'account/login', values).pipe(\n      map(user => {\n        localStorage.setItem('token', user.token);\n        this.currentUserSource.next(user);\n      })\n    )\n  }\n\n  register(values: any) {\n    return this.http.post<User>(this.baseUrl + 'account/register', values).pipe(\n      map(user => {\n        localStorage.setItem('token', user.token);\n        this.currentUserSource.next(user);\n      })\n    )\n  }\n\n  logout() {\n    localStorage.removeItem('token');\n    this.currentUserSource.next(null);\n    this.router.navigateByUrl('/');\n  }\n\n  checkEmailExists(email: string) {\n    return this.http.get<boolean>(this.baseUrl + 'account/emailExists?email=' + email);\n  }\n\n  getUserAddress() {\n    return this.http.get<Address>(this.baseUrl + 'account/address');\n  }\n\n  updateUserAddress(address: Address) {\n    return this.http.put(this.baseUrl + 'account/address', address);\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { RouterModule, Routes } from '@angular/router';\nimport { AuthGuard } from './core/guards/auth.guard';\nimport { NotFoundComponent } from './core/not-found/not-found.component';\nimport { ServerErrorComponent } from './core/server-error/server-error.component';\nimport { TestErrorComponent } from './core/test-error/test-error.component';\nimport { HomeComponent } from './home/home.component';\n\nconst routes: Routes = [\n  {path: '', component: HomeComponent, data: {breadcrumb: 'Home'}},\n  {path: 'test-error', component: TestErrorComponent},\n  {path: 'not-found', component: NotFoundComponent},\n  {path: 'server-error', component: ServerErrorComponent},\n  {path: 'shop', loadChildren: () => import('./shop/shop.module').then(m => m.ShopModule)},\n  {path: 'basket', loadChildren: () => import('./basket/basket.module').then(m => m.BasketModule)},\n  {\n    path: 'checkout', \n    canActivate: [AuthGuard],\n    loadChildren: () => import('./checkout/checkout.module').then(m => m.CheckoutModule)\n  },\n  {\n    path: 'orders', \n    canActivate: [AuthGuard],\n    loadChildren: () => import('./orders/orders.module').then(m => m.OrdersModule)\n  },\n  {path: 'account', loadChildren: () => import('./account/account.module').then(m => m.AccountModule)},\n  {path: '**', redirectTo: '', pathMatch: 'full'},\n];\n\n@NgModule({\n  imports: [RouterModule.forRoot(routes)],\n  exports: [RouterModule]\n})\nexport class AppRoutingModule { }\n","import { Component, OnInit } from '@angular/core';\nimport { AccountService } from './account/account.service';\nimport { BasketService } from './basket/basket.service';\n\n@Component({\n  selector: 'app-root',\n  templateUrl: './app.component.html',\n  styleUrls: ['./app.component.scss']\n})\nexport class AppComponent implements OnInit {\n  title = 'Skinet';\n\n  constructor(private basketService: BasketService, private accountService: AccountService) {}\n\n  ngOnInit(): void {\n    this.loadBasket();\n    this.loadCurrentUser();\n  }\n\n  loadBasket() {\n    const basketId = localStorage.getItem('basket_id');\n    if (basketId) this.basketService.getBasket(basketId);\n  }\n\n  loadCurrentUser() {\n    const token = localStorage.getItem('token');\n    this.accountService.loadCurrentUser(token).subscribe();\n  }\n}\n","<ngx-spinner type=\"timer\">\n    <h3>Loading...</h3>\n</ngx-spinner>\n\n<app-nav-bar></app-nav-bar>\n<app-section-header></app-section-header>\n\n<router-outlet></router-outlet>","import { NgModule } from '@angular/core';\nimport { BrowserModule } from '@angular/platform-browser';\nimport { BrowserAnimationsModule } from '@angular/platform-browser/animations'\nimport { HttpClientModule, HTTP_INTERCEPTORS } from '@angular/common/http';\n\nimport { AppRoutingModule } from './app-routing.module';\nimport { AppComponent } from './app.component';\nimport { CoreModule } from './core/core.module';\nimport { HomeModule } from './home/home.module';\nimport { ErrorInterceptor } from './core/interceptors/error.interceptor';\nimport { LoadingInterceptor } from './core/interceptors/loading.interceptor';\nimport { JwtInterceptor } from './core/interceptors/jwt.interceptor';\nimport { OrderDetailedComponent } from './order-detailed/order-detailed.component';\n\n@NgModule({\n  declarations: [\n    AppComponent,\n    OrderDetailedComponent\n  ],\n  imports: [\n    BrowserModule,\n    AppRoutingModule,\n    BrowserAnimationsModule,\n    HttpClientModule,\n    CoreModule,\n    HomeModule\n  ],\n  providers: [\n    {provide: HTTP_INTERCEPTORS, useClass: ErrorInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: LoadingInterceptor, multi: true},\n    {provide: HTTP_INTERCEPTORS, useClass: JwtInterceptor, multi: true},\n  ],\n  bootstrap: [AppComponent]\n})\nexport class AppModule { }\n","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { BehaviorSubject, map } from 'rxjs';\nimport { environment } from 'src/environments/environment';\nimport { Basket, BasketItem, BasketTotals } from '../shared/models/basket';\nimport { DeliveryMethod } from '../shared/models/deliveryMethod';\nimport { Product } from '../shared/models/product';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BasketService {\n  baseUrl = environment.apiUrl;\n  private basketSource = new BehaviorSubject<Basket | null>(null);\n  basketSource$ = this.basketSource.asObservable();\n  private basketTotalSource = new BehaviorSubject<BasketTotals | null>(null);\n  basketTotalSource$ = this.basketTotalSource.asObservable();\n\n  constructor(private http: HttpClient) { }\n\n  createPaymentIntent() {\n    return this.http.post<Basket>(this.baseUrl + 'payments/' + this.getCurrentBasketValue()?.id, {})\n      .pipe(\n        map(basket => {\n          this.basketSource.next(basket);\n        })\n      )\n  }\n\n  setShippingPrice(deliveryMethod: DeliveryMethod) {\n    const basket = this.getCurrentBasketValue();\n    if (basket) {\n      basket.shippingPrice = deliveryMethod.price;\n      basket.deliveryMethodId = deliveryMethod.id;\n      this.setBasket(basket);\n    }\n  }\n\n  getBasket(id: string) {\n    return this.http.get<Basket>(this.baseUrl + 'basket?id=' + id).subscribe({\n      next: basket => {\n        this.basketSource.next(basket);\n        this.calculateTotals();\n      }\n    })\n  }\n\n  setBasket(basket: Basket) {\n    return this.http.post<Basket>(this.baseUrl + 'basket', basket).subscribe({\n      next: basket => {\n        this.basketSource.next(basket);\n        this.calculateTotals();\n      }\n    })\n  }\n\n  getCurrentBasketValue() {\n    return this.basketSource.value;\n  }\n\n  addItemToBasket(item: Product | BasketItem, quantity = 1) {\n    if (this.isProduct(item)) item = this.mapProductItemToBasketItem(item);\n    console.log(item);\n    const basket = this.getCurrentBasketValue() ?? this.createBasket();\n    basket.items = this.addOrUpdateItem(basket.items, item, quantity);\n    this.setBasket(basket);\n  }\n\n  removeItemFromBasket(id: number, quantity = 1) {\n    const basket = this.getCurrentBasketValue();\n    if (!basket) return;\n    const item = basket.items.find(x => x.id === id);\n    if (item) {\n      item.quantity -= quantity;\n      if (item.quantity === 0) {\n        basket.items = basket.items.filter(x => x.id !== id);\n      }\n      if (basket.items.length > 0) this.setBasket(basket);\n      else this.deleteBasket(basket);\n    }\n  }\n\n  deleteBasket(basket: Basket) {\n    return this.http.delete(this.baseUrl + 'basket?id=' + basket.id).subscribe({\n      next: () => {\n        this.deleteLocalBasket();\n      }\n    })\n  }\n\n  deleteLocalBasket() {\n    this.basketSource.next(null);\n    this.basketTotalSource.next(null);\n    localStorage.removeItem('basket_id');\n  }\n\n  private addOrUpdateItem(items: BasketItem[], itemToAdd: BasketItem, quantity: number): BasketItem[] {\n    const item = items.find(x => x.id === itemToAdd.id);\n    if (item) item.quantity += quantity;\n    else {\n      itemToAdd.quantity = quantity;\n      items.push(itemToAdd);\n    }\n    return items;\n  }\n\n  private createBasket(): Basket {\n    const basket = new Basket();\n    localStorage.setItem('basket_id', basket.id);\n    return basket;\n  }\n\n  private mapProductItemToBasketItem(item: Product): BasketItem {\n    return {\n      id: item.id,\n      productName: item.name,\n      price: item.price,\n      quantity: 0,\n      pictureUrl: item.pictureUrl,\n      brand: item.productBrand,\n      type: item.productType\n    }\n  }\n\n  private calculateTotals() {\n    const basket = this.getCurrentBasketValue();\n    if (!basket) return;\n    const subtotal = basket.items.reduce((a, b) => (b.price * b.quantity) + a, 0);\n    const total = subtotal + basket.shippingPrice;\n    this.basketTotalSource.next({shipping: basket.shippingPrice, total, subtotal});\n  }\n\n  private isProduct(item: Product | BasketItem): item is Product {\n    return (item as Product).productBrand !== undefined;\n  }\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { NavBarComponent } from './nav-bar/nav-bar.component';\nimport { RouterModule } from '@angular/router';\nimport { TestErrorComponent } from './test-error/test-error.component';\nimport { NotFoundComponent } from './not-found/not-found.component';\nimport { ServerErrorComponent } from './server-error/server-error.component';\nimport { ToastrModule } from 'ngx-toastr';\nimport { SectionHeaderComponent } from './section-header/section-header.component';\nimport { BreadcrumbModule } from 'xng-breadcrumb';\nimport { NgxSpinnerModule } from 'ngx-spinner';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  declarations: [\n    NavBarComponent,\n    TestErrorComponent,\n    NotFoundComponent,\n    ServerErrorComponent,\n    SectionHeaderComponent\n  ],\n  imports: [\n    CommonModule,\n    RouterModule,\n    ToastrModule.forRoot({\n      positionClass: 'toast-bottom-right',\n      preventDuplicates: true\n    }),\n    BreadcrumbModule,\n    NgxSpinnerModule,\n    SharedModule\n  ],\n  exports: [\n    NavBarComponent,\n    SectionHeaderComponent,\n    NgxSpinnerModule\n  ]\n})\nexport class CoreModule { }\n","import { Injectable } from '@angular/core';\nimport { ActivatedRouteSnapshot, CanActivate, Router, RouterStateSnapshot, UrlTree } from '@angular/router';\nimport { map, Observable } from 'rxjs';\nimport { AccountService } from 'src/app/account/account.service';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class AuthGuard implements CanActivate {\n\n  constructor(private accountService: AccountService, private router: Router) {}\n\n  canActivate(\n    route: ActivatedRouteSnapshot,\n    state: RouterStateSnapshot): Observable<boolean> {\n    return this.accountService.currentUser$.pipe(\n      map(auth => {\n        if (auth) return true;\n        else {\n          this.router.navigate(['/account/login'], {queryParams: {returnUrl: state.url}});\n          return false\n        }\n      })\n    );\n  }\n  \n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor,\n  HttpErrorResponse\n} from '@angular/common/http';\nimport { catchError, Observable, throwError } from 'rxjs';\nimport { NavigationExtras, Router } from '@angular/router';\nimport { ToastrService } from 'ngx-toastr';\n\n@Injectable()\nexport class ErrorInterceptor implements HttpInterceptor {\n\n  constructor(private router: Router, private toastr: ToastrService) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    return next.handle(request).pipe(\n      catchError((error: HttpErrorResponse) => {\n        if (error) {\n          if (error.status === 400) {\n            if (error.error.errors) {\n              throw error.error;\n            } else {\n              this.toastr.error(error.error.message, error.status.toString())\n            }\n          }\n          if (error.status === 401) {\n            this.toastr.error(error.error.message, error.status.toString())\n          }\n          if (error.status === 404) {\n            this.router.navigateByUrl('/not-found');\n          };\n          if (error.status === 500) {\n            const navigationExtras: NavigationExtras = {state: {error: error.error}};\n            this.router.navigateByUrl('/server-error', navigationExtras);\n          }\n        }\n        return throwError(() => new Error(error.message))\n      })\n    )\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport { Observable, take } from 'rxjs';\nimport { AccountService } from 'src/app/account/account.service';\n\n@Injectable()\nexport class JwtInterceptor implements HttpInterceptor {\n  token?: string;\n\n  constructor(private accountService: AccountService) {}\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    this.accountService.currentUser$.pipe(take(1)).subscribe({next: user => this.token = user?.token})\n    \n    if (this.token) {\n      request = request.clone({\n        setHeaders: {\n          Authorization: `Bearer ${this.token}`\n        }\n      })\n    }\n    return next.handle(request);\n  }\n}\n","import { Injectable } from '@angular/core';\nimport {\n  HttpRequest,\n  HttpHandler,\n  HttpEvent,\n  HttpInterceptor\n} from '@angular/common/http';\nimport { delay, finalize, identity, Observable } from 'rxjs';\nimport { BusyService } from '../services/busy.service';\nimport { environment } from 'src/environments/environment';\n\n@Injectable()\nexport class LoadingInterceptor implements HttpInterceptor {\n\n  constructor(private busyService: BusyService) { }\n\n  intercept(request: HttpRequest<unknown>, next: HttpHandler): Observable<HttpEvent<unknown>> {\n    if (\n      request.url.includes('emailExists') ||\n      request.method === 'POST' && request.url.includes('orders') ||\n      request.method === 'DELETE'\n    ) {\n      return next.handle(request);\n    }\n\n    this.busyService.busy();\n    return next.handle(request).pipe(\n      (environment.production ? identity : delay(1000)),\n      finalize(() => this.busyService.idle())\n    )\n  }\n}\n","<header class=\"d-flex flex-row align-items-center justify-content-between p-3 px-4 mb-3 \n    bg-white border-bottom fixed-top shadow-sm\">\n    <img src=\"/assets/images/logo.png\" alt=\"logo\" class=\"logo\" style=\"max-height: 70px;\" routerLink=\"/\">\n    <nav class=\"my-2 text-uppercase fs-4\">\n        <a class=\"p-2\" \n            routerLink=\"/\" \n            routerLinkActive=\"active\" \n            [routerLinkActiveOptions]=\"{exact: true}\"\n        >Home</a>\n        <a class=\"p-2\" routerLink=\"/shop\" routerLinkActive=\"active\">Shop</a>\n        <a class=\"p-2\" routerLink=\"/test-error\" routerLinkActive=\"active\">Errors</a>\n    </nav>\n    <div class=\"d-flex align-items-center\">\n        <a routerLink=\"/basket\" class=\"position-relative\">\n            <i class=\"fa fa-shopping-cart fa-2x me-5 text-dark\"></i>\n            <div *ngIf=\"(basketService.basketSource$ | async) as basket\" class=\"cart-no\">\n                {{getCount(basket.items)}}\n            </div>\n        </a>\n        <ng-container *ngIf=\"(accountService.currentUser$ | async) === null\">\n            <a routerLink=\"/account/login\" class=\"btn btn-outline-secondary me-2\">Login</a>\n            <a routerLink=\"/account/register\" class=\"btn btn-outline-secondary me-3\">Sign up</a>\n        </ng-container>\n\n        <ng-container *ngIf=\"accountService.currentUser$ | async as user\">\n            <div class=\"dropdown ms-3 me-5\" style=\"cursor: pointer;\" dropdown>\n                <a dropdownToggle class=\"dropdown-toggle\">\n                    <strong>Welcome {{user.displayName}}</strong>\n                </a>\n                <ul *dropdownMenu class=\"dropdown-menu dropdown-menu-right\">\n                    <li class=\"py-1\">\n                        <a routerLink=\"/basket\" class=\"dropdown-item\">\n                            <i class=\"fa fa-shopping-cart me-3\"></i> View basket\n                        </a>\n                    </li>\n                    <li class=\"py-1\">\n                        <a routerLink=\"/orders\" class=\"dropdown-item\">\n                            <i class=\"fa fa-history me-3\"></i> View orders\n                        </a>\n                    </li>\n                    <div class=\"dropdown-divider\"></div>\n                    <li class=\"py-1\">\n                        <a (click)=\"accountService.logout()\" class=\"dropdown-item\">\n                            <i class=\"fa fa-sign-out me-3\"></i> Logout\n                        </a>\n                    </li>\n                </ul>\n            </div>\n        </ng-container>\n\n    </div>\n\n</header>","import { Component } from '@angular/core';\nimport { AccountService } from 'src/app/account/account.service';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { BasketItem } from 'src/app/shared/models/basket';\n\n@Component({\n  selector: 'app-nav-bar',\n  templateUrl: './nav-bar.component.html',\n  styleUrls: ['./nav-bar.component.scss']\n})\nexport class NavBarComponent {\n\n  constructor(public basketService: BasketService, public accountService: AccountService) {}\n\n  getCount(items: BasketItem[]) {\n    return items.reduce((sum, item) => sum + item.quantity, 0);\n  }\n\n}\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-not-found',\n  templateUrl: './not-found.component.html',\n  styleUrls: ['./not-found.component.scss']\n})\nexport class NotFoundComponent {\n\n}\n","<div class=\"container mt-5\">\n    <h1>Not found</h1>\n</div>","<ng-container *ngIf=\"$any(bcService.breadcrumbs$ | async) as breadcrumbs\">\n    <section *ngIf=\"breadcrumbs[breadcrumbs.length-1].label !== 'Home'\" class=\"py-5 mb-3\" style=\"margin-top: 105px; background-color: #f5f5f5;\">\n        <div class=\"container\">\n            <div class=\"row d-flex align-items-center\">\n                <div class=\"col-9\">\n                    <h1>{{breadcrumbs[breadcrumbs.length-1].label | titlecase}}</h1>\n                </div>\n                <div class=\"col-3\">\n                    <xng-breadcrumb>\n                        <ng-container *xngBreadcrumbItem=\"let breadcrumb\">\n                            {{breadcrumb | titlecase}}\n                        </ng-container>\n                    </xng-breadcrumb>\n                </div>\n            </div>\n        </div>\n    </section>\n</ng-container>\n\n","import { Component } from '@angular/core';\nimport { BreadcrumbService } from 'xng-breadcrumb';\n\n@Component({\n  selector: 'app-section-header',\n  templateUrl: './section-header.component.html',\n  styleUrls: ['./section-header.component.scss']\n})\nexport class SectionHeaderComponent {\n\n  constructor(public bcService: BreadcrumbService) {}\n\n}\n","<div class=\"container mt-5\">\n    <h4>Internal server error - refreshing will make the error disappear</h4>\n    <ng-container *ngIf=\"error\">\n        <h5 class=\"text-danger\">Error: {{error.message}}</h5>\n        <p class=\"font-weight-bold\">This error comes from the server - not Angular</p>\n        <p>What to do next?</p>\n        <ol>\n            <li>Check the network tab in chrome dev tools</li>\n            <li>Reproduce the request in postman - if the same error occurs then definately not angular!</li>\n        </ol>\n        <h5>Stack trace</h5>\n        <code class=\"mt-5\" style=\"background-color: whitesmoke;\">{{error.details}}</code>\n    </ng-container>\n</div>","import { Component } from '@angular/core';\nimport { Router } from '@angular/router';\n\n@Component({\n  selector: 'app-server-error',\n  templateUrl: './server-error.component.html',\n  styleUrls: ['./server-error.component.scss']\n})\nexport class ServerErrorComponent {\n  error: any;\n\n  constructor(private router: Router) {\n    const navigation = this.router.getCurrentNavigation();\n    this.error = navigation?.extras?.state?.['error'];\n  }\n}\n","import { Injectable } from '@angular/core';\nimport { NgxSpinnerService } from 'ngx-spinner';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class BusyService {\n  busyRequestCount = 0;\n\n  constructor(private spinnerService: NgxSpinnerService) { }\n\n  busy() {\n    this.busyRequestCount++;\n    this.spinnerService.show(undefined, {\n      type: 'timer',\n      bdColor: 'rgba(255,255,255,0.7)',\n      color: '#333333'\n    });\n  }\n\n  idle() {\n    this.busyRequestCount--;\n    if (this.busyRequestCount <= 0) {\n      this.busyRequestCount = 0;\n      this.spinnerService.hide();\n    }\n  }\n}\n","import { HttpClient } from '@angular/common/http';\nimport { Component } from '@angular/core';\nimport { environment } from 'src/environments/environment';\n\n@Component({\n  selector: 'app-test-error',\n  templateUrl: './test-error.component.html',\n  styleUrls: ['./test-error.component.scss']\n})\nexport class TestErrorComponent {\n  baseUrl = environment.apiUrl;\n  validationErrors: string[] = [];\n\n  constructor(private http: HttpClient) {}\n\n  get404Error() {\n    this.http.get(this.baseUrl + 'products/42').subscribe({\n      next: response => console.log(response),\n      error: error => console.log(error)\n    })\n  }\n\n  get500Error() {\n    this.http.get(this.baseUrl + 'buggy/servererror').subscribe({\n      next: response => console.log(response),\n      error: error => console.log(error)\n    })\n  }\n\n  get400Error() {\n    this.http.get(this.baseUrl + 'buggy/badrequest').subscribe({\n      next: response => console.log(response),\n      error: error => console.log(error)\n    })\n  }\n\n  get400ValidationError() {\n    this.http.get(this.baseUrl + 'products/fortytwo').subscribe({\n      next: response => console.log(response),\n      error: error => {\n        console.log(error);\n        this.validationErrors = error.errors;\n      }\n    })\n  }\n\n}\n","<div class=\"container mt-5\">\n    <button (click)=\"get500Error()\" class=\"btn btn-outline-primary me-3\">Test 500 error</button>\n    <button (click)=\"get404Error()\" class=\"btn btn-outline-primary me-3\">Test 404 error</button>\n    <button (click)=\"get400Error()\" class=\"btn btn-outline-primary me-3\">Test 400 error</button>\n    <button (click)=\"get400ValidationError()\" class=\"btn btn-outline-primary me-3\">Test 400 validation error</button>\n    <div class=\"row mt-5\" *ngIf=\"validationErrors.length > 0\">\n        <ul class=\"text-danger\">\n            <li *ngFor=\"let error of validationErrors\">{{error}}</li>\n        </ul>\n    </div>\n</div>\n","import { Component } from '@angular/core';\n\n@Component({\n  selector: 'app-home',\n  templateUrl: './home.component.html',\n  styleUrls: ['./home.component.scss']\n})\nexport class HomeComponent {\n\n}\n","<carousel [isAnimated]=\"true\">\n    <slide>\n        <img src=\"assets/images/hero1.jpg\" alt=\"slide\" style=\"display: block; width: 100%;\">\n    </slide>\n    <slide>\n        <img src=\"assets/images/hero2.jpg\" alt=\"slide\" style=\"display: block; width: 100%;\">\n    </slide>\n    <slide>\n        <img src=\"assets/images/hero3.jpg\" alt=\"slide\" style=\"display: block; width: 100%;\">\n    </slide>\n</carousel>\n<section class=\"featured\">\n    <div class=\"d-flex justify-content-center pt-4\">\n        <h1>Welcome to the Shop!</h1>\n    </div>\n</section>\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { HomeComponent } from './home.component';\nimport { SharedModule } from '../shared/shared.module';\n\n@NgModule({\n  declarations: [\n    HomeComponent\n  ],\n  imports: [\n    CommonModule,\n    SharedModule\n  ],\n  exports: [\n    HomeComponent\n  ]\n})\nexport class HomeModule { }\n","<div class=\"container mt-5\">\n    <div class=\"row\" *ngIf=\"order\">\n        <div class=\"col-8\">\n            <div>\n                <div class=\"table-responsive\">\n                    <table class=\"table\">\n                        <thead>\n                            <tr>\n                                <th scope=\"col\" class=\"border-0 bg-light\">\n                                    <div class=\"p-2 text-uppercase\">Product</div>\n                                </th>\n                                <th scope=\"col\" class=\"border-0 bg-light\">\n                                    <div class=\"py-2 text-uppercase\">Price</div>\n                                </th>\n                                <th scope=\"col\" class=\"border-0 bg-light\">\n                                    <div class=\"py-2 text-uppercase\">Quantity</div>\n                                </th>\n                                <th scope=\"col\" class=\"border-0 bg-light\">\n                                    <div class=\"py-2 text-uppercase\">Total</div>\n                                </th>\n                            </tr>\n                        </thead>\n                        <tbody>\n                            <tr *ngFor=\"let item of order.orderItems\">\n                                <th scope=\"row\">\n                                    <div class=\"p-2\">\n                                        <img src=\"{{item.pictureUrl}}\" alt=\"{{item.productName}}\" class=\"img-fluid\"\n                                            style=\"max-height: 50px\">\n                                        <div class=\"ml-3 d-inline-block align-middle\">\n                                            <h5 class=\"mb-0\">\n                                                {{item.productName}}\n                                            </h5>\n                                        </div>\n                                    </div>\n                                </th>\n                                <td class=\"align-middle\"><strong>{{item.price | currency}}</strong></td>\n                                <td class=\"align-middle\">\n                                    <span class=\"font-weight-bold px-2\">{{item.quantity}}</span>\n                                </td>\n                                <td class=\"align-middle\"><strong>{{item.price * item.quantity | currency}}</strong></td>\n                            </tr>\n                        </tbody>\n                    </table>\n                </div>\n            </div>\n        </div>\n        <div class=\"col-4\">\n            <div class=\"bg-light px-4 py-3 text-uppercase font-weight-bold\">Order summary</div>\n            <div class=\"p-4\">\n                <ul class=\"list-unstyled mb-1\">\n                    <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                        <strong class=\"text-muted\">Order subtotal</strong>\n                        <strong>{{order.subtotal | currency}}</strong>\n                    </li>\n                    <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                        <strong class=\"text-muted\">Shipping and handling</strong>\n                        <strong>{{order.shippingPrice | currency}}</strong>\n                    </li>\n                    <li class=\"d-flex justify-content-between py-3 border-bottom\">\n                        <strong class=\"text-muted\">Total</strong>\n                        <strong>{{order.total | currency}}</strong>\n                    </li>\n                </ul>\n            </div>\n        </div>\n    </div>\n</div>","import { Component, OnInit } from '@angular/core';\nimport { ActivatedRoute, Router } from '@angular/router';\nimport { Order } from 'src/app/shared/models/order';\nimport { BreadcrumbService } from 'xng-breadcrumb';\nimport { OrdersService } from '../orders/orders.service';\n\n@Component({\n  selector: 'app-order-detailed',\n  templateUrl: './order-detailed.component.html',\n  styleUrls: ['./order-detailed.component.scss']\n})\nexport class OrderDetailedComponent implements OnInit {\n  order?: Order;\n  constructor(private orderService: OrdersService, private route: ActivatedRoute,\n    private bcService: BreadcrumbService) {\n      this.bcService.set('@OrderDetailed', ' ');\n  }\n\n  ngOnInit(): void {\n    const id = this.route.snapshot.paramMap.get('id');\n    id && this.orderService.getOrderDetailed(+id).subscribe({\n      next: order => {\n        this.order = order;\n        this.bcService.set('@OrderDetailed', `Order# ${order.id} - ${order.status}`);\n      }\n    })\n  }\n}","import { HttpClient } from '@angular/common/http';\nimport { Injectable } from '@angular/core';\nimport { environment } from 'src/environments/environment';\nimport { Order } from '../shared/models/order';\n\n@Injectable({\n  providedIn: 'root'\n})\nexport class OrdersService {\n  baseUrl = environment.apiUrl;\n\n  constructor(private http: HttpClient) { }\n  \n  getOrdersForUser() {\n    return this.http.get<Order[]>(this.baseUrl + 'orders');\n  }\n  getOrderDetailed(id: number) {\n    return this.http.get<Order>(this.baseUrl + 'orders/' + id);\n  }\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\nimport { BasketItem } from '../models/basket';\n\n@Component({\n  selector: 'app-basket-summary',\n  templateUrl: './basket-summary.component.html',\n  styleUrls: ['./basket-summary.component.scss']\n})\nexport class BasketSummaryComponent {\n  @Output() addItem = new EventEmitter<BasketItem>();\n  @Output() removeItem = new EventEmitter<{id: number, quantity: number}>();\n  @Input() isBasket = true;\n\n  constructor(public basketService: BasketService) {}\n\n  addBasketItem(item: BasketItem) {\n    this.addItem.emit(item)\n  }\n\n  removeBasketItem(id: number, quantity = 1) {\n    this.removeItem.emit({id, quantity})\n  }\n}\n","<div class=\"table-responsive\" *ngIf=\"(basketService.basketSource$ | async) as basket\">\n    <table class=\"table\">\n        <thead class=\"text-uppercase\" [class.bg-light]=\"isBasket\">\n            <tr>\n                <th><div class=\"py-2\">Product</div></th>\n                <th><div class=\"py-2\">Price</div></th>\n                <th [class.text-center]=\"!isBasket\"><div class=\"py-2\">Quantity</div></th>\n                <th><div class=\"py-2\">Total</div></th>\n                <th *ngIf=\"isBasket\"><div class=\"py-2\">Remove</div></th>\n            </tr>\n        </thead>\n        <tbody>\n            <tr *ngFor=\"let item of basket.items\">\n                <th>\n                    <div class=\"p-2 d-inline-block\">\n                        <img src=\"{{item.pictureUrl}}\" \n                            alt=\"{{item.productName}}\" \n                            class=\"img-fluid\"\n                            style=\"max-height: 50px;\"\n                        >\n                        <div class=\"ms-3 d-inline-block align-middle\">\n                            <h5 class=\"mb-0\">\n                                <a routerLink=\"/shop/{{item.id}}\" class=\"text-dark text-decoration-none\">\n                                    {{item.productName}}\n                                </a>\n                            </h5>\n                            <span class=\"text-muted fst-italic\">\n                                Type: {{item.type}}\n                            </span>\n                        </div>\n                    </div>\n                </th>\n                <td class=\"align-middle\"><strong>{{item.price | currency}}</strong></td>\n                <td class=\"align-middle\">\n                    <div class=\"d-flex align-items-center\" \n                        [class.justify-content-center]=\"!isBasket\" >\n                        <i *ngIf=\"isBasket\" class=\"fa fa-minus-circle text-warning me-2\" \n                            style=\"cursor: pointer; font-size: 2em;\"\n                            (click)=\"removeBasketItem(item.id, 1)\"\n                        ></i>\n                        <strong style=\"font-size: 1.2em;\">{{item.quantity}}</strong>\n                        <i *ngIf=\"isBasket\" class=\"fa fa-plus-circle text-warning mx-2\" \n                            style=\"cursor: pointer; font-size: 2em;\"\n                            (click)=\"addBasketItem(item)\"    \n                        ></i>\n                    </div>\n                </td>\n                <td class=\"align-middle\"><strong>{{item.price * item.quantity | currency}}</strong></td>\n                <td class=\"align-middle\" *ngIf=\"isBasket\">\n                    <a class=\"text-danger\">\n                        <i\n                            (click)=\"removeBasketItem(item.id, item.quantity)\"\n                            class=\"fa fa-trash\" \n                            style=\"font-size: 2em; cursor: pointer;\"></i>\n                    </a>\n                </td>\n            </tr>\n        </tbody>\n    </table>\n</div>\n","import { CdkStepper } from '@angular/cdk/stepper';\nimport { Component, Input, OnInit } from '@angular/core';\n\n@Component({\n  selector: 'app-stepper',\n  templateUrl: './stepper.component.html',\n  styleUrls: ['./stepper.component.scss'],\n  providers: [{provide: CdkStepper, useExisting: StepperComponent}]\n})\nexport class StepperComponent extends CdkStepper implements OnInit {\n  @Input() linearModeSelected = true;\n\n  ngOnInit(): void {\n    this.linear = this.linearModeSelected;\n  }\n\n  onClick(index: number) {\n    this.selectedIndex = index;\n  }\n}\n","<div class=\"container\">\n    <ul class=\"nav nav-pills nav-justified\">\n        <li class=\"nav-item\" *ngFor=\"let step of steps; let i = index\">\n            <div class=\"d-grid\">\n                <button \n                    (click)=\"onClick(i)\"\n                    [disabled]=\"true\"\n                    [class.active]=\"selectedIndex === i\"\n                    class=\"nav-link py-3 text-uppercase fw-bold\">\n                    {{step.label}}\n                </button>\n            </div>\n        </li>\n    </ul>\n    <div *ngIf=\"selected\">\n        <ng-container [ngTemplateOutlet]=\"selected.content\"></ng-container>\n    </div>\n</div>\n","<div class=\"form-floating mb-3\">\n    <input \n      type={{type}} \n      [formControl]=\"control\"\n      placeholder=\"{{label}}\"\n      class=\"form-control\"\n      [ngClass]=\"(control.touched) ? control.invalid ? 'is-invalid' : 'is-valid' : null\"\n    >\n    <div *ngIf=\"control.status === 'PENDING'\" class=\"fa fa-spinner fa-spin loader\"></div>\n    <label for=\"floatingInput\">{{label}}</label>\n    <div *ngIf=\"control.errors?.['required']\" class=\"invalid-feedback\">Please enter your {{label}}</div>\n    <div *ngIf=\"control.errors?.['email']\" class=\"invalid-feedback\">Invalid email address</div>\n    <div *ngIf=\"control.errors?.['pattern']\" class=\"invalid-feedback\">Password not complex enough</div>\n    <div *ngIf=\"control.errors?.['emailExists']\" class=\"invalid-feedback\">Email address is taken</div>\n  </div>\n","import { Component, Input, Self } from '@angular/core';\nimport { ControlValueAccessor, FormControl, NgControl } from '@angular/forms';\n\n@Component({\n  selector: 'app-text-input',\n  templateUrl: './text-input.component.html',\n  styleUrls: ['./text-input.component.scss']\n})\nexport class TextInputComponent implements ControlValueAccessor {\n  @Input() type = 'text';\n  @Input() label = '';\n\n  constructor(@Self() public controlDir: NgControl) {\n    this.controlDir.valueAccessor = this;\n  }\n\n  writeValue(obj: any): void {\n  }\n  registerOnChange(fn: any): void {\n  }\n  registerOnTouched(fn: any): void {\n  }\n\n  get control(): FormControl {\n    return this.controlDir.control as FormControl\n  }\n\n}\n","import * as cuid from 'cuid';\n\nexport interface BasketItem {\n    id: number;\n    productName: string;\n    price: number;\n    quantity: number;\n    pictureUrl: string;\n    brand: string;\n    type: string;\n}\n\nexport interface Basket {\n    id: string;\n    items: BasketItem[];\n    clientSecret?: string;\n    paymentIntentId?: string;\n    deliveryMethodId?: number;\n    shippingPrice: number;\n}\n\nexport class Basket implements Basket {\n    id = cuid();\n    items: BasketItem[] = [];\n    shippingPrice = 0;\n}\n\nexport interface BasketTotals {\n    shipping: number;\n    subtotal: number;\n    total: number;\n}","<div class=\"bg-light px-4 py-3 text-uppercase fw-bold\">\n    Order summary\n</div>\n\n<div class=\"p-4\">\n    <p class=\"fst-italic mb-4\">Shipping costs will be calculated based on choices made during checkout</p>\n    <ul class=\"list-unstyled mb-4\" *ngIf=\"(basketService.basketTotalSource$ | async) as totals\">\n        <li class=\"d-flex justify-content-between py-3 border-bottom\">\n            <strong class=\"text-muted\">Order subtotal</strong>\n            <strong>{{totals.subtotal | currency}}</strong>\n        </li>\n        <li class=\"d-flex justify-content-between py-3 border-bottom\">\n            <strong class=\"text-muted\">Shipping and handling</strong>\n            <strong>{{totals.shipping | currency}}</strong>\n        </li>\n        <li class=\"d-flex justify-content-between py-3 border-bottom\">\n            <strong class=\"text-muted\">Total</strong>\n            <strong>{{totals.total | currency}}</strong>\n        </li>\n    </ul>\n</div>\n","import { Component } from '@angular/core';\nimport { BasketService } from 'src/app/basket/basket.service';\n\n@Component({\n  selector: 'app-order-totals',\n  templateUrl: './order-totals.component.html',\n  styleUrls: ['./order-totals.component.scss']\n})\nexport class OrderTotalsComponent {\n\n  constructor(public basketService: BasketService){}\n\n}\n","import { Component, EventEmitter, Input, Output } from '@angular/core';\n\n@Component({\n  selector: 'app-pager',\n  templateUrl: './pager.component.html',\n  styleUrls: ['./pager.component.scss']\n})\nexport class PagerComponent {\n  @Input() totalCount?: number;\n  @Input() pageSize?: number;\n  @Input() pageNumber?: number;\n  @Output() pageChanged = new EventEmitter<number>();\n\n  onPagerChanged(event: any) {\n    this.pageChanged.emit(event.page);\n  }\n\n}\n","<pagination *ngIf=\"totalCount && pageSize\"\n[boundaryLinks]=\"true\"\n[totalItems]=\"totalCount\"\n[itemsPerPage]=\"pageSize\"\n[maxSize]=\"10\"\n[ngModel]=\"pageNumber\"\n(pageChanged)=\"onPagerChanged($event)\"\npreviousText=\"&lsaquo;\"\nnextText=\"&rsaquo;\"\nfirstText=\"&laquo;\"\nlastText=\"&raquo;\">\n</pagination>\n","<header *ngIf=\"totalCount && pageNumber && pageSize\">\n    <span *ngIf=\"totalCount > 0\">Showing \n        <strong>\n            {{(pageNumber -1) * pageSize + 1}} -\n            {{pageNumber * pageSize \n                > totalCount\n                ? totalCount\n                : pageNumber * pageSize\n            }}\n        </strong> of <strong>{{totalCount}}</strong> Results</span>\n        <span *ngIf=\"totalCount === 0\">There are <strong>0</strong> results for this filter</span>\n</header>\n","import { Component, Input } from '@angular/core';\n\n@Component({\n  selector: 'app-paging-header',\n  templateUrl: './paging-header.component.html',\n  styleUrls: ['./paging-header.component.scss']\n})\nexport class PagingHeaderComponent {\n  @Input() pageNumber?: number;\n  @Input() pageSize?: number;\n  @Input() totalCount?: number;\n}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { PaginationModule } from 'ngx-bootstrap/pagination';\nimport { PagingHeaderComponent } from './paging-header/paging-header.component';\nimport { PagerComponent } from './pager/pager.component';\nimport { CarouselModule } from 'ngx-bootstrap/carousel';\nimport { OrderTotalsComponent } from './order-totals/order-totals.component';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { BsDropdownModule } from 'ngx-bootstrap/dropdown';\nimport { TextInputComponent } from './components/text-input/text-input.component';\nimport { StepperComponent } from './components/stepper/stepper.component';\nimport {CdkStepperModule} from '@angular/cdk/stepper';\nimport { BasketSummaryComponent } from './basket-summary/basket-summary.component';\nimport { RouterModule } from '@angular/router';\n\n@NgModule({\n  declarations: [\n    PagingHeaderComponent,\n    PagerComponent,\n    OrderTotalsComponent,\n    TextInputComponent,\n    StepperComponent,\n    BasketSummaryComponent\n  ],\n  imports: [\n    CommonModule,\n    PaginationModule.forRoot(),\n    CarouselModule.forRoot(),\n    ReactiveFormsModule,\n    FormsModule,\n    BsDropdownModule.forRoot(),\n    CdkStepperModule,\n    RouterModule\n  ],\n  exports: [\n    PaginationModule,\n    PagingHeaderComponent,\n    PagerComponent,\n    CarouselModule,\n    OrderTotalsComponent,\n    ReactiveFormsModule,\n    BsDropdownModule,\n    TextInputComponent,\n    StepperComponent,\n    CdkStepperModule,\n    BasketSummaryComponent\n  ]\n})\nexport class SharedModule { }\n","export const environment = {\n    production: false,\n    apiUrl: 'https://localhost:5001/api/'\n  };","import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n\nimport { AppModule } from './app/app.module';\n\n\nplatformBrowserDynamic().bootstrapModule(AppModule)\n  .catch(err => console.error(err));\n"],"names":["HttpHeaders","map","of","ReplaySubject","environment","AccountService","constructor","http","router","apiUrl","currentUserSource","asObservable","loadCurrentUser","token","next","headers","set","get","baseUrl","pipe","user","localStorage","setItem","login","values","post","register","logout","removeItem","navigateByUrl","checkEmailExists","email","getUserAddress","updateUserAddress","address","put","factory","providedIn","RouterModule","AuthGuard","NotFoundComponent","ServerErrorComponent","TestErrorComponent","HomeComponent","routes","path","component","data","breadcrumb","loadChildren","then","m","ShopModule","BasketModule","canActivate","CheckoutModule","OrdersModule","AccountModule","redirectTo","pathMatch","AppRoutingModule","forRoot","imports","exports","AppComponent","basketService","accountService","ngOnInit","loadBasket","basketId","getItem","getBasket","subscribe","selectors","decls","vars","consts","template","i0","BrowserModule","BrowserAnimationsModule","HttpClientModule","HTTP_INTERCEPTORS","CoreModule","HomeModule","ErrorInterceptor","LoadingInterceptor","JwtInterceptor","OrderDetailedComponent","AppModule","bootstrap","provide","useClass","multi","declarations","BehaviorSubject","Basket","BasketService","basketSource","basketTotalSource","createPaymentIntent","getCurrentBasketValue","id","basket","setShippingPrice","deliveryMethod","shippingPrice","price","deliveryMethodId","setBasket","calculateTotals","value","addItemToBasket","item","quantity","isProduct","mapProductItemToBasketItem","console","log","createBasket","items","addOrUpdateItem","removeItemFromBasket","find","x","filter","length","deleteBasket","delete","deleteLocalBasket","itemToAdd","push","productName","name","pictureUrl","brand","productBrand","type","productType","subtotal","reduce","a","b","total","shipping","undefined","CommonModule","NavBarComponent","ToastrModule","SectionHeaderComponent","BreadcrumbModule","NgxSpinnerModule","SharedModule","positionClass","preventDuplicates","route","state","currentUser$","auth","navigate","queryParams","returnUrl","url","catchError","throwError","toastr","intercept","request","handle","error","status","errors","message","toString","navigationExtras","Error","take","clone","setHeaders","Authorization","delay","finalize","identity","busyService","includes","method","busy","production","idle","getCount","sum","bcService","navigation","getCurrentNavigation","extras","BusyService","spinnerService","busyRequestCount","show","bdColor","color","hide","get404Error","response","get500Error","get400Error","get400ValidationError","validationErrors","ctx","orderService","snapshot","paramMap","getOrderDetailed","order","OrdersService","getOrdersForUser","EventEmitter","BasketSummaryComponent","addBasketItem","addItem","emit","removeBasketItem","inputs","isBasket","outputs","CdkStepper","StepperComponent","linear","linearModeSelected","onClick","index","selectedIndex","features","useExisting","TextInputComponent","controlDir","valueAccessor","writeValue","obj","registerOnChange","fn","registerOnTouched","control","label","cuid","OrderTotalsComponent","PagerComponent","onPagerChanged","event","pageChanged","page","totalCount","pageSize","pageNumber","PagingHeaderComponent","PaginationModule","CarouselModule","FormsModule","ReactiveFormsModule","BsDropdownModule","CdkStepperModule","__NgCli_bootstrap_1","bootstrapModule","catch","err"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}